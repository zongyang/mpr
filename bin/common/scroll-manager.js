// Generated by LiveScript 1.3.1
(function(){
  define(function(require, exports, module){
    return {
      restrictScroll: function(direction, dom){
        var xStart, yStart, sensitiveRatio, judgeFn;
        xStart = null;
        yStart = null;
        sensitiveRatio = 3;
        switch (direction) {
        case 'both':
          judgeFn = function(){
            return true;
          };
          break;
        case 'horizontal':
          judgeFn = function(xDelta, yDelta){
            return yDelta > sensitiveRatio * xDelta;
          };
          break;
        case 'vertical':
          judgeFn = function(xDelta, yDelta){
            return xDelta > sensitiveRatio * yDelta;
          };
          break;
        default:
          return;
        }
        document.addEventListener('touchstart', function(e){
          console.log("\n\n*************** touchstart ***************\n\n");
          xStart = e.touches[0].screenX;
          yStart = e.touches[0].screenY;
        });
        document.addEventListener('touchmove', function(e){
          var xDelta, yDelta;
          console.log("\n\n*************** touchmove ***************\n\n");
          xDelta = Math.abs(e.touches[0].screenX - xStart);
          yDelta = Math.abs(e.touches[0].screenY - yStart);
          if (judgeFn(xDelta, yDelta)) {
            e.preventDefault();
          }
        });
      },
      fixDrift: function(dom){
        $(window).scroll($.debounce(function(e){
          $(window).scrollLeft(0);
        }, 250));
      }
    };
  });
}).call(this);
